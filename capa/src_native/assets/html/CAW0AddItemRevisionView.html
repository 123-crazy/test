<aw-command-panel caption="i18n.caw0add" anchor="data.addObjectPanelPinCommands" context="data">
    <aw-form name="commandPanelForm" visible-when="data.activeView!='assignProjectSub' && data.activeView!='addReferenceSub'">
        <aw-add target-object="ctx.xrtSummaryContextObject" relations="CAW0DefectiveItem" include-types="ItemRevision" auto-select-on-unique-type=true type-filter="ItemRevision" visible-tabs="palette,search"></aw-add>
    </aw-form>
    <aw-panel-footer>
        <!-- panel-footer button for Palette and Search tab -->
        <aw-button default="true" action="createRelationForPaletteOrSearch" visible-when="ctx.selected.modelType.typeHierarchyArray.indexOf('CAW0Defect') > -1">
            <aw-i18n>i18n.caw0add</aw-i18n>
        </aw-button>
        <aw-button default="true" action="deleteAndCreateItemRevisionRelationWithDefect" visible-when="ctx.selected.modelType && ctx.selected.modelType.typeHierarchyArray.indexOf('ItemRevision') > -1">
            <aw-i18n>i18n.caw0add</aw-i18n>
        </aw-button>
    </aw-panel-footer>
</aw-command-panel>