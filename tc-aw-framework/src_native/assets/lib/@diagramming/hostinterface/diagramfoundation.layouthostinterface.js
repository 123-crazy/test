// @<COPYRIGHT>@
// ==================================================
// Copyright Siemens 2020.
// PL Diagram Foundation 1973.0.1-0
// ==================================================
// @<COPYRIGHT>@
var t,n;t=this,n=function(i){"use strict";function n(n,t,r,u){i.common.ObjectBase.call(this),this.hostDiagramView=n,this.session=n.getSession(),this.session.suppressBoundaryUpdateOnNestedNodeChanged=!0,this.nodeDist=t,this.edgeDist=r,this.minNodeSize=u;n=n.getSheetConfigurationData();n.nestedNodeCollapsedHeight=0,n.nestedNodeCollapsedWidth=0,o=SDF.Utils.Point,e=SDF.Layout}i=i&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i;var o=void 0,e=void 0;return i.common.ObjectBase.inheritedBy(n),n.prototype.getNodeToNodeDist=function(){return this.nodeDist},n.prototype.getEdgeToEdgeDist=function(){return this.edgeDist},n.prototype.getMinSegmentLength=function(){return{x:0,y:0}},n.prototype.enableCompactLayout=function(){return!1},n.prototype.getMinNodeSize=function(n){if(null===n)return{w:0,h:0};var t,n=n.getMinNodeSize(),n=n?(t=n[0],n[1]):(t=this.minNodeSize.w,this.minNodeSize.h);return{w:t,h:n}},n.prototype.getLayoutType=function(){return e.LayoutType.Hierarchical},
n.prototype.getLayoutDirection=function(){return e.LayoutDirection.TopToBottom},n.prototype.getRoutingType=function(){return e.RoutingType.Default},n.prototype.getIncUpdatePathType=function(){return"HV"},n.prototype.getEnableGlobalLayout=function(){return!0},n.prototype.getMinPortExtensionDist=function(){return this.edgeDist.x},n.prototype.getMinSegmentDist=function(){return this.edgeDist.x},n.prototype.isNestedView=function(){return!0},n.prototype.getGroupAutoShrink=function(){return!0},n.prototype.getHostManagesGroupNodeSizes=function(){return!1},n.prototype.isMakeRoomInRSOPDisabled=function(){return!1},n.prototype.isRSOPEnabled=function(){return!0},n.prototype.getWrapMirror=function(){return!0},n.prototype.getWrapFixedLength=function(){return!0},n.prototype.getWrapLength=function(){return 500},n.prototype.getWrapRatio=function(){return 1},n.prototype.getNodeRect=function(n){var t=n.getRenderingPosition(),r=n.getWidthValue(),n=n.getHeightValue();return{x:t.x,y:t.y,w:r,h:n}},
n.prototype.setNodeRect=function(n,t,r,u,i){var o=n.getBBox();o&&o.x===t&&o.y===r&&o.width===u&&o.height===i||n.modifyBoundingBox(t,r,u,i)},n.prototype.getStandardPortSize=function(){return{w:0,h:0}},n.prototype.getPortRect=function(n){var t=n.getRenderingPosition(),r=n.getWidthValue(),n=n.getHeightValue();return{x:t.x,y:t.y,w:r,h:n}},n.prototype.setPortRect=function(n,t,r,u,i){var o,e,f,c,l,h,a,s,v;"generalPort"!==this.getPortBehavior(n)&&((l=n.getBBox())&&l.x===t&&l.y===r&&l.width===u&&l.height===i||((o=n.getLocation())&&(a=(e=n.getOwner().getBBox()).x,v=e.y,h=e.width,s=e.height,h=h-(l=Math.abs(t-a)),s=s-(a=Math.abs(r-v)),(v=n.translateRenderingToAnchorPosition(this.makePoint(t,r))).x>e.x&&v.x<e.x+e.width&&v.y>e.y&&v.y<e.y+e.height?c=f=0:l<Math.min(h,a,s)?f=c=0:h<Math.min(a,s)?(c=0,f=1):c=a<s?f=0:(f=0,1),o.setInputPercentX(f),o.setInputPercentY(c)),n.setRenderingPosition(t,r),n.setWidthValue(u),n.setHeightValue(i)))},n.prototype.getPortLocation=function(n){return{absoluteX:0,
absoluteY:0,percentX:.5,percentY:1}},n.prototype.getPortConnectDirection=function(n){return"any"},n.prototype.getParentNode=function(n){n=n.getOwner();return this.hostDiagramView.getManager().getSheet()===n?null:n},n.prototype.getNodePriority=function(n){return 1},n.prototype.isExpanded=function(n){return!1!==n.isGroupingAllowed()&&n.isExpanded()},n.prototype.isGroupNode=function(n){return n.isGroupingAllowed()},n.prototype.getGroupNodePadding=function(n){var t=this.getNodeToNodeDist(),r=Math.max(t.x,t.y),t=this.minNodeSize.h+r;return n?{top:t,bottom:r,left:r,right:r}:{top:0,bottom:0,left:0,right:0}},n.prototype.getGroupNodeKeepOutArea=function(n,t){return{x:0,y:0,w:t.w,h:Math.min(this.minNodeSize.h,t.h)}},n.prototype.getSourcePort=function(n){n=n.getStart();return void 0===n?null:n},n.prototype.getTargetPort=function(n){n=n.getEnd();return void 0===n?null:n},n.prototype.getNodeOfPort=function(n){if(null===n)return null;n=n.getOwner();return void 0===n?null:n},
n.prototype.getAllPortsForNode=function(n){for(var t=[],r=n.getPorts(),u=0,i=r.length;u<i;u++){var o=r[u];o.isProxy()||t.push(o)}return t},n.prototype.getAllConnectionsForPort=function(n){return n.getConnections()},n.prototype.getSourceNode=function(n){n=n.getStart();if(void 0===n)return null;n=n.getOwner();return void 0===n?null:n},n.prototype.getTargetNode=function(n){n=n.getEnd();if(void 0===n)return null;n=n.getOwner();return void 0===n?null:n},n.prototype.getPath=function(n){n=n.getGeometry();return n?n.getPoints():null},n.prototype.setPath=function(n,t){var r=null,u=n.getGeometry();if((r=u?u.getPoints():r)||t)if(r&&t){var u=r.length,i=t.length;if(u===i){for(var o=0;o<i;o++)if(!t[o].equal(r[o]))return void n.setPath(t)}else n.setPath(t)}else n.setPath(t)},n.prototype.setGluePoints=function(n,t){if(t)for(var r,u,i=this.getNodeRect(n),n=i.w,i=i.h,o=Math.round(n/this.edgeDist.x)-1,e=Math.round(i/this.edgeDist.y)-1,f=["top","bottom","left","right"],c=f.length,l=0;l<c;++l){r=t[f[l]],
u=o,1<l&&(u=e);for(var h=1;h<=u;++h)r[h]||(0,!1)}},n.prototype.getPortLabel=function(n){return null},n.prototype.getConnectionLabel=function(n){return null},n.prototype.getLabelRect=function(n){return null},n.prototype.setLabelRect=function(n,t,r,u,i){},n.prototype.stopDisplayUpdate=function(){this.hostDiagramView.beginTransaction()},n.prototype.updateDisplay=function(){var n=this.getAnimationOption();this.hostDiagramView.endTransaction(n)},n.prototype.getAnimationOption=function(){return null},n.prototype.makePoint=function(n,t){return new o(n,t)},n.prototype.getPortBehavior=function(n){return"layoutAllocatedPortStatic"},n.prototype.getObjectKey=function(n){return n.guid},n.prototype.reportError=function(n){alert(n)},n.prototype.isAutoClearNodeArea=function(){return!0},n},"object"==typeof exports&&"undefined"!=typeof module?module.exports=n(require("@diagramming/core")):"function"==typeof define&&define.amd?define(["@diagramming/core"],n):((t=t||self
).diagramfoundation=t.diagramfoundation||{},t.diagramfoundation.layouthostinterface=n(t.diagramfoundation.core));