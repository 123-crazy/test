<div role="group" aria-label="{{category.displayName}}" class="aw-ui-filterCategory" title="{{category.displayName}}">
    <!--      display expand/collapse icons only when needed -->
        <aw-icon title="{{collapse}}" class="aw-search-filterCategoryLabelExpand aw-aria-border" ng-click="toggleExpansion($event,true)" icon-id="miscExpandedTree"
        ng-if="category.showExpand && category.expand && !category.isPopulated" tabindex="0" ng-keydown="toggleExpansionKeyPress($event, true)" aria-expanded = "false"></aw-icon>
        <aw-icon title="{{collapse}}"  class="aw-search-filterCategoryLabelExpand aw-aria-border" ng-click="toggleExpansion($event,true)" icon-id="miscExpandedTree"
        ng-if="category.showExpand && category.expand && category.isPopulated" tabindex="0" ng-keydown="toggleExpansionKeyPress($event, true)" aria-expanded = "false"></aw-icon>
        <aw-icon title="{{expand}}"  class="aw-search-filterCategoryLabelCollapse aw-aria-border" ng-click="toggleExpansionSoa($event,false)" icon-id="miscCollapsedTree"
        ng-if="category.showExpand && !category.expand && !category.isPopulated" tabindex="0" ng-keydown="toggleExpansionSoaKeyPress($event, false)" aria-expanded = "true"></aw-icon>
        <aw-icon title="{{expand}}"  class="aw-search-filterCategoryLabelCollapse aw-aria-border" ng-click="toggleExpansion($event,false)" icon-id="miscCollapsedTree"
        ng-if="category.showExpand && !category.expand && category.isPopulated" tabindex="0" ng-keydown="toggleExpansionKeyPress($event, false)" aria-expanded = "true"></aw-icon>

        <div  class="aw-ui-filterCategoryLabel aw-aria-border" role="button" ng-class="{'aw-ui-filterCategoryLabelEnabled': category.showEnabled && category.type !== 'ObjectFilter'}"
              ng-click="select($event)" ng-keydown="categoryLabelKeyPress($event)" aria-label="{{category.displayName}}" tabindex="0" category-action="categoryAction">
              {{category.displayName}}
        </div>
        <div ng-if="category.expand && category.soaCallDone && category.categoryType === 'Attribute' && category.filterValues.length == 0" class="aw-ui-filterNameLabel">
            {{noFiltersText}}
        </div>

        <div ng-if="category.expand && category.showStringFilter">
            <aw-filter-category-string-filter
                category="category"
                filter-action="filterAction"
                search-action="searchAction"
                disable-type-ahead-facet-search="disableTypeAheadFacetSearch">
             </aw-filter-category-string-filter>
        </div>
        <div ng-if="category.expand && category.showDateFilter">
            <aw-filter-category-date-filter
                category="category"
                filter-action="filterAction"
                search-action="searchAction">
             </aw-filter-category-date-filter>
        </div>
        <div ng-if="category.expand && category.showNumericFilter">
            <aw-filter-category-numeric-filter
                category="category"
                filter-action="filterAction"
                search-action="searchAction">
             </aw-filter-category-numeric-filter>
        </div>
        <div ng-if="category.expand && category.type === 'ObjectFilter'">
            <aw-hierarchical-navigation
                parentnodes="category.filterValues.parentnodes"
                childnodes="category.filterValues.childnodes"
                displaynameprop="'stringDisplayValue'"
                tooltipprop="'stringDisplayValue'"
                displaycountprop="'count'"
                maxchildrentoshow="5"
                action="searchAction">
            </aw-hierarchical-navigation>
        </div>
        <div ng-if="category.expand && category.showRadioFilter">
            <aw-filter-category-toggle-filter
                category="category"
                filter-action="filterAction"
                search-action="searchAction">
             </aw-filter-category-toggle-filter>
        </div>
         <div aw-transclude ng-if="category.expand" class="aw-ui-filterCategorySearchBoxWidget">
           <!-- insert custom code -->
        </div>
    </div>
