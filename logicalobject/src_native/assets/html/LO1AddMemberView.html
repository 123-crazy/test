<aw-command-panel caption="data.caption">
    <aw-panel-body>
        <aw-command-panel-section caption="i18n.member">
            <aw-widget prop="data.memberId"></aw-widget>
            <aw-widget prop="data.displayName"></aw-widget>
            <aw-checkbox prop="data.retrieveClassificationData"></aw-checkbox>
        </aw-command-panel-section>
        <aw-command-panel-section caption="{{seg.caption}}"
            anchor="(!$first&&$last)?data.removeSegmentCommands:''"
            aw-repeat="seg:data.segments" context="data">
            <aw-radiobutton prop="seg.props.fnd0Direction" action="clearSegment"></aw-radiobutton>
            <aw-widget prop="seg.props.fnd0RelationOrReference" visible-when="seg.props.fnd0Direction.dbValue"></aw-widget>
            <aw-widget prop="seg.props.fnd0DestinationType"></aw-widget>
            <aw-widget prop="seg.props.fnd0RelationOrReference" visible-when="!seg.props.fnd0Direction.dbValue"></aw-widget>
            <aw-widget prop="seg.props.fnd0DestinationCriteria"></aw-widget>
        </aw-command-panel-section>
        <aw-command-panel-section caption="{{data.addSegmentCaption}}"
            visible-when="conditions.isValidToAddSegment"
            anchor="data.addSegmentCommands" context="data">
        </aw-command-panel-section>
    </aw-panel-body>
    <aw-panel-footer>
        <aw-button action="specialCharacterCheckAddMember" visible-when="conditions.isValidToAddMember"><aw-i18n>i18n.add</aw-i18n></aw-button>
        <aw-button action="specialCharacterCheckSaveMember" visible-when="conditions.isValidToSaveMember && (awPanelBody.$dirty || data.segmentRemoved)"><aw-i18n>i18n.save</aw-i18n></aw-button>
    </aw-panel-footer>
</aw-command-panel>
